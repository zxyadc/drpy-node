
                <!DOCTYPE html>
                <html lang="en">
                <head>
                    <meta charset="UTF-8">
                    <meta name="viewport" content="width=device-width, initial-scale=1.0">
                    <title>drpyS-README</title>
                </head>
                <body>
                    <h1 id="drpysdrpy-node">drpyS(drpy-node)</h1>
<p>nodejs作为服务端的drpy实现。全面升级异步写法<br><del>积极开发中，每日一更</del>，当前进度 <code>49%</code><br>找工作中，随缘更新</p>
<ul>
<li><a href="/config?pwd=">本地配置接口-动态本地</a></li>
<li><a href="/config/1?pwd=">本地配置接口-动态外网/局域网</a></li>
<li><a href="/docs/sub.md">其他配置接口-订阅过滤</a></li>
<li><a href="/admin/encoder">代码加解密工具</a></li>
<li><a href="/authcoder?len=10&amp;number=1">V我50支付凭证生成器</a></li>
<li><a href="/docs/httpTest.md">接口压测教程</a></li>
<li><a href="/proxy/%E5%A4%AE%E8%A7%86%E5%A4%A7%E5%85%A8%5B%E5%AE%98%5D/index.html">央视点播解析工具</a></li>
<li><a href="/apps/cookie-butler/index.html">cookie管理插件</a></li>
<li><a href="/robots.txt">本站防止爬虫协议</a></li>
<li><a href="https://git-proxy.playdreamer.cn/hjdhnx/drpy-node">本项目主页-免翻</a></li>
<li><a href="https://github.com/hjdhnx/CatPawOpen/tree/ds-cat">DS源适配猫影视</a></li>
<li><a href="/cat/index.html">在线猫ds源主页</a></li>
</ul>
<h2 id="更新记录">更新记录</h2>
<h3 id="20250310">20250310</h3>
<p>更新至V1.1.23</p>
<h3 id="20250227">20250227</h3>
<p>更新至V1.1.22</p>
<h3 id="20250226">20250226</h3>
<p>更新至V1.1.21</p>
<h3 id="20250225">20250225</h3>
<p>更新至V1.1.20</p>
<h3 id="20250224">20250224</h3>
<p>更新至V1.1.19</p>
<h3 id="20250211">20250211</h3>
<p>更新至V1.1.18</p>
<h3 id="20250206">20250206</h3>
<p>更新至V1.1.17</p>
<h3 id="20250123">20250123</h3>
<p>更新至V1.1.16</p>
<h3 id="20250122">20250122</h3>
<p>更新至V1.1.15</p>
<ol>
<li>ds源和dr2源增加装逼壳图标支持</li>
</ol>
<h3 id="20250121">20250121</h3>
<p>更新至V1.1.14</p>
<ol>
<li>猫源ds在线配置支持接口密码</li>
<li>新增源</li>
<li>磁盘加速</li>
</ol>
<h3 id="20250120">20250120</h3>
<p>更新至V1.1.13</p>
<ol>
<li>完善猫在线配置</li>
</ol>
<h3 id="20250117">20250117</h3>
<p>本次未更新版本</p>
<ol>
<li>新开项目，使ds源适用于新版猫影视 <a href="https://github.com/CatPawApp/CatPawOpen">猫爪catpwd</a></li>
</ol>
<p><a href="docs/updateRecord.md">点此查看完整更新记录</a></p>
<p><strong>注意事项</strong></p>
<p>总是有人遇到各种奇葩问题，像什么没弹幕，访问/config/1服务马上崩溃等等，能自行解决最好，解决不了我建议你使用下方安装教程 <code>3.道长腾讯轻量云服务器安装方案</code>
跟我一样还有问题那就不可能了，我能用你即能用</p>
<h2 id="基础框架">基础框架</h2>
<p>todo:</p>
<ol>
<li>js里的源能否去除export开头，保持跟qjs一致</li>
<li>js里的源，像一级这种异步js，里面调用未定义的函数，能否不通过函数参数传入直接注入调用</li>
<li>在源的各个函数调用的时候动态注入input、MY_URL等局部变量不影响全局。搞了半天没成功，有点难受，待解决</li>
</ol>
<p>写源的函数不可以使用箭头函数，箭头函数无法拿到this作用域就没法获取input和MY_URL变量</p>
<p>精简去除的库:</p>
<ol>
<li>axios(这个去不掉，刚需，后端请求才能拿到set-cookie)</li>
<li>jsonpath</li>
<li>underscore</li>
<li>pino-pretty</li>
<li>deasync</li>
</ol>
<h2 id="参考资料">参考资料</h2>
<ul>
<li><a href="docs/crypto-js-wasm/readme-CN.md">crypto-js-wasm使用教程</a></li>
<li><a href="docs/pupInstall.md">puppeteer使用教程</a></li>
<li><a href="docs/ruleAttr.md">drpyS源属性说明</a></li>
<li><a href="docs/ruleDesc.md">drpy2写源简述</a></li>
</ul>
<h2 id="问题说明">问题说明</h2>
<ol>
<li>windows上直接运行index.js可能会发现运行过程中的日志打印出中文乱码。建议通过yarn dev运行或者在package.json里点击dev脚本运行</li>
</ol>
<h2 id="安装说明">安装说明</h2>
<p>1.zy安装方案</p>
<ul>
<li><a href="https://zy.catni.cn/otherShare/drpyS-build.html">多平台安装教程</a></li>
</ul>
<p>2.自动化安装方案（直接薅道长羊毛）</p>
<ul>
<li>终端执行</li>
</ul>
<p><code>bash -c &quot;$(curl -fsSLk https://git-proxy.playdreamer.cn/hjdhnx/drpy-node/raw/refs/heads/main/autorun.sh)&quot;</code></p>
<ul>
<li>添加定时方案</li>
</ul>
<p><code>echo &quot;30 7 * * * cd /patch &amp;&amp; bash -c \&quot;\$(curl -fsSLk https://git-proxy.playdreamer.cn/hjdhnx/drpy-node/raw/refs/heads/main/autorun.sh)\&quot; &gt;&gt; /patch/drpyslog.log 2&gt;&amp;1&quot; | crontab -</code></p>
<p>或者下载脚本到本地后</p>
<p><code>chmod a+x /path/autorun.sh</code></p>
<p><code>echo &quot;30 7 * * * bash /path/autorun.sh  &gt;&gt; /path/logfile.log 2&gt;&amp;1&quot; | crontab -</code></p>
<p>命令说明 /patch 为脚本存放路径（脚本放在与源码同级的自定义目录中）</p>
<p>3.道长腾讯轻量云服务器安装方案</p>
<pre><code class="language-shell">mkdir /home/node_work
cd /home/node_work
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.35.3/install.sh | bash
source ~/.bashrc
nvm install 22
npm config set registry https://registry.npmmirror.com
npm i -g cnpm --registry=https://registry.npmmirror.com
npm i -g pm2 yarn@1.22.19
git clone https://git-proxy.playdreamer.cn/hjdhnx/drpy-node.git
cd drpy-node
yarn
yarn pm2
pm2 logs drpys
pm2 ls
pm2 stop drpys
pm2 start drpys
pm2 restart drpys
</code></pre>
<h2 id="代理转发功能测试">代理转发功能测试</h2>
<ul>
<li><a href="/req/https://github.com/hjdhnx/drpy-node">代理转发ds</a></li>
<li><a href="/req/https://www.baidu.com">代理转发百度</a></li>
<li><a href="/req/https://live.fanmingming.com/tv/m3u/ipv6.m3u">代理转发范冰冰直播源</a></li>
</ul>
<h2 id="友链白嫖接口服务">友链(白嫖接口服务)</h2>
<ul>
<li><a href="https://github.catvod.com/">猫影视git文件加速</a></li>
<li><a href="https://catvod.com/">猫影视多功能主页</a></li>
<li><a href="https://zy.catni.cn/editSource/edit-grammar.html">ZY写源教学</a></li>
<li><a href="https://sourcepower.top/index">源动力</a></li>
</ul>
<h2 id="ai接入">AI接入</h2>
<ul>
<li><a href="https://console.xfyun.cn/services/bm4">讯飞星火</a></li>
<li><a href="https://platform.deepseek.com/api_keys">deepseek</a> | <a href="https://chat.deepseek.com/">对话</a></li>
<li><a href="https://xinghuo.xfyun.cn/botcenter/createbot">讯飞智能体</a>
| <a href="https://xinghuo.xfyun.cn/botweb/0b83d4b1c0447e82ea00fe9485bd9353">对话</a>
| <a href="https://xinghuo.xfyun.cn/botcenter/private-dataset">数据集</a></li>
<li><a href="https://platform.moonshot.cn/console/info">KIMI</a> | <a href="https://kimi.moonshot.cn/">对话</a></li>
</ul>
<h2 id="版权">版权</h2>
<p>本项目主体框架由道长开发，项目内相关源收集于互联网，可供学习交流测试使用，禁止商用或者直接转卖代码，转载代码请带上出处。</p>
<h2 id="免责声明">免责声明</h2>
<ol>
<li>此程序仅用于学习研究，不保证其合法性、准确性、有效性，请根据情况自行判断，本人对此不承担任何保证责任。</li>
<li>由于此程序仅用于学习研究，您必须在下载后 24 小时内将所有内容从您的计算机或手机或任何存储设备中完全删除，若违反规定引起任何事件本人对此均不负责。</li>
<li>请勿将此程序用于任何商业或非法目的，若违反规定请自行对此负责。</li>
<li>此程序涉及应用与本人无关，本人对因此引起的任何隐私泄漏或其他后果不承担任何责任。</li>
<li>本人对任何程序引发的问题概不负责，包括但不限于由程序错误引起的任何损失和损害。</li>
<li>如果任何单位或个人认为此程序可能涉嫌侵犯其权利，应及时通知并提供身份证明，所有权证明，我们将在收到认证文件确认后删除此程序。</li>
<li>所有直接或间接使用、查看此程序的人均应该仔细阅读此声明。本人保留随时更改或补充此声明的权利。一旦您使用或复制了此程序，即视为您已接受此免责声明。</li>
</ol>

                </body>
                </html>
            